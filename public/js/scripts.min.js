"use strict";const appendForms=document.getElementById("append-forms"),account=document.getElementById("account"),loginButton=document.getElementById("login-button"),singInButton=document.getElementById("sing-in-button"),time=1900;let isLogin=!1;const insertForm=(e,t)=>{const a=document.getElementById(e),l=document.getElementById(t);if(a&&l){const e=document.importNode(a.content,!0);l.textContent="",l.appendChild(e)}},alertEmptyField=(e,t,a)=>{e.classList.add(t),setTimeout(()=>{e.classList.remove(t)},a)},changePlaceholderValue=(e,t,a,l)=>{e.placeholder=t,setTimeout(()=>{e.placeholder=a},l)},ls=localStorage,setUser=e=>{ls.setItem(e.id,JSON.stringify(e))},getUsers=()=>{if(0!==ls.length)for(const e in ls)ls.hasOwnProperty(e)&&console.log(JSON.parse(ls.getItem(e)));else console.log("No hay usuarios registrados")};account.addEventListener("click",e=>{if(e.target===loginButton){insertForm("login-template","append-forms");const e=document.getElementById("login-form");e.addEventListener("submit",t=>{t.preventDefault();const a=e.loginName.value.trim(),l=e.loginPass.value.trim();if(""!==a&&""!==l){e.reset()}else""==a&&(alertEmptyField(e.loginName,"alert",1900),changePlaceholderValue(e.loginName,"Ingresa un usuario","Usuario",1900)),""==l&&(alertEmptyField(e.loginPass,"alert",1900),changePlaceholderValue(e.loginPass,"Ingresa una contraseña","Contraseña",1900))})}if(e.target===singInButton){insertForm("sing-in-template","append-forms");const e=document.getElementById("sing-in-form"),t=e.singInName,a=e.singInPass,l=e.repeatPass;e.addEventListener("submit",n=>{if(n.preventDefault(),""!==t.value.trim()&&""!==a.value.trim()&&""!==l.value.trim())if(a.value.trim()===l.value.trim()){const n={id:`${t.value}${a.value}`,username:t.value,password:a.value,favoriteMovies:[]};setUser(n),e.reset(),l.classList.remove("equal-to")}else alertEmptyField(l,"alert",1900);else""==t.value.trim()&&(alertEmptyField(t,"alert",1900),changePlaceholderValue(t,"Ingresa un usuario","Usuario",1900)),""==a.value.trim()&&(alertEmptyField(a,"alert",1900),changePlaceholderValue(a,"Ingresa una contraseña","Contraseña",1900)),""==l.value.trim()&&(alertEmptyField(l,"alert",1900),changePlaceholderValue(l,"Repite la contraseña","Repite la contraseña",1900))}),e.addEventListener("keyup",()=>{const e=a.value.trim(),t=l.value.trim();""!==e&&""!==l&&(t===e?l.classList.add("equal-to"):l.classList.remove("equal-to"))})}});