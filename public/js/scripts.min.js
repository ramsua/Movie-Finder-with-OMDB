"use strict";const account=document.getElementById("account"),appendForms=document.getElementById("append-forms"),time=1900,insertTemplate=(e,t,n=!1)=>{const s=document.getElementById(e),o=document.getElementById(t);if(s&&o){const e=document.importNode(s.content,!0);n&&(o.textContent=""),o.appendChild(e)}else console.error(`La función insertTemplate() dice: El elemento ${e} o ${t} no existen.`)},removeTemplate=e=>{const t=document.getElementById(e);t&&(t.textContent="")},alertEmptyField=(e,t,n)=>{e?(e.classList.add(t),setTimeout(()=>{e.classList.remove(t)},n)):console.error(`La función "alertEmptyField()" dice: El elemento "${e}" no existe.`)},changePlaceholderValue=(e,t,n,s)=>{e?(e.placeholder=t,setTimeout(()=>{e.placeholder=n},s)):console.error(`La función "changePlaceholderValue()" dice: El elemento "${e}" no existe.`)},replaceClass=(e,t,n)=>{const s=document.getElementById(e);s&&s.classList.contains(t)?s.classList.replace(t,n):console.error(`La función "replaceClass()" dice: El elemento "${s}" no existe o no tiene la clase "${t}".`)},loSt=localStorage,setNewUser=e=>{if(null===loSt.getItem("users")){const t=[];t.push(e),loSt.setItem("users",JSON.stringify(t))}else{const t=JSON.parse(loSt.getItem("users"));t.push(e),loSt.setItem("users",JSON.stringify(t))}},seSt=sessionStorage,setCurrentUser=e=>{seSt.setItem("currentUser",JSON.stringify(e))},getCurrentUser=()=>JSON.parse(seSt.getItem("currentUser")),currentUserLoggedIn=()=>null!==seSt.getItem("currentUser"),singOff=()=>{seSt.removeItem("currentUser")},apikey="8651a58e",link="http://www.omdbapi.com/?apikey=8651a58e&s=avenger&plot=full";insertTemplate("login-and-register-template","account"),account.addEventListener("click",e=>{if("login-button"===e.target.id){insertTemplate("login-form-template","append-forms",!0);const e=document.getElementById("login-form");e.addEventListener("submit",t=>{t.preventDefault();const n=e.loginName.value.trim(),s=e.loginPass.value.trim();if(""!==n&&""!==s){setNewUser({id:`${n}${s}`,name:n,favorites:[]}),insertTemplate("logged-in-template","account",!0),insertTemplate("search-form-template","append-forms",!0),replaceClass("append-forms","forms__modal--account","forms__modal--search")}else""==n&&(alertEmptyField(e.loginName,"alert",1900),changePlaceholderValue(e.loginName,"Ingresa un usuario","Usuario",1900)),""==s&&(alertEmptyField(e.loginPass,"alert",1900),changePlaceholderValue(e.loginPass,"Ingresa una contraseña","Contraseña",1900))})}"favorites-button"===e.target.id&&console.log("Clickeó favoritos"),"logout-button"===e.target.id&&console.log("Se desloqueó")});